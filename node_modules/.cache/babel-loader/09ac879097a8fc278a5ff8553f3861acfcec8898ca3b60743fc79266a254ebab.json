{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cric Blast Radio\\\\Desktop\\\\To work on\\\\New folder\\\\Crex Scorecard More Data\\\\frontend\\\\src\\\\components\\\\cricket\\\\components\\\\ScoreRight.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreRight = () => {\n  _s();\n  const [config, setConfig] = useState({\n    name: \"\",\n    score: \"\",\n    overs: \"\",\n    logoUrl: \"\"\n  });\n  useEffect(() => {\n    const fetchConfig = async () => {\n      try {\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 5000);\n        const API_URL = process.env.REACT_APP_API_URL || 'https://localhost:5000';\n        const response = await fetch(`${API_URL}/get-right-team`, {\n          signal: controller.signal,\n          headers: {\n            'Accept': 'application/json'\n          },\n          ...(process.env.NODE_ENV === 'development' && {\n            rejectUnauthorized: false\n          })\n        });\n        clearTimeout(timeoutId);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        setConfig(prevConfig => ({\n          ...prevConfig,\n          score: data.score || prevConfig.score,\n          overs: data.overs || prevConfig.overs\n        }));\n      } catch (error) {\n        if (error.name === 'AbortError') {\n          console.log('Request timed out');\n        } else {\n          console.error('Error fetching config:', error);\n        }\n      }\n    };\n\n    // Listen for WebSocket messages\n    const handleWebSocketMessage = event => {\n      try {\n        if (event.data) {\n          var _data$teams;\n          const data = JSON.parse(event.data);\n          if (data !== null && data !== void 0 && (_data$teams = data.teams) !== null && _data$teams !== void 0 && _data$teams.team2) {\n            const team2 = data.teams.team2;\n            setConfig(prevConfig => ({\n              name: team2.name,\n              score: prevConfig.score,\n              overs: prevConfig.overs,\n              logoUrl: team2.logo\n            }));\n          }\n        }\n      } catch (error) {\n        console.error('Error parsing WebSocket data:', error);\n      }\n    };\n\n    // Connect to WebSocket\n    const WS_URL = process.env.REACT_APP_WS_URL || 'wss://localhost:5000';\n    const ws = new WebSocket(WS_URL);\n    ws.addEventListener('message', handleWebSocketMessage);\n    fetchConfig();\n    const interval = setInterval(fetchConfig, 1000);\n\n    // Cleanup\n    return () => {\n      clearInterval(interval);\n      ws.removeEventListener('message', handleWebSocketMessage);\n      ws.close();\n    };\n  }, []);\n  if (!config.name && !config.score) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-end gap-8 relative -top-[2px]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-6 pr-6 relative bottom-[11px]\",\n      children: [config.score && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-8xl font-bold text-[#e5e5e5] leading-none  drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)] score-pro\",\n        children: config.score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-end justify-center gap-1\",\n        children: [config.name && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-5xl font-bold text-[#e5e5e5] leading-none  drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)] whitespace-nowrap\",\n          children: config.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), config.overs && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl text-blue-300/80 leading-tight drop-shadow-[0_0_4px_rgba(147,197,253,0.3)]\",\n          children: [\"(\", config.overs, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), config.logoUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-28 h-28 relative\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: config.logoUrl,\n          alt: config.name,\n          className: \"w-full h-full object-contain p-2 filter drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-300 hover:scale-110 hover:drop-shadow-[0_0_12px_rgba(255,255,255,0.5)]\",\n          onError: e => {\n            e.target.style.opacity = '0.5';\n            e.target.src = ''; // Clear source on error\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(ScoreRight, \"5iKnqPmKvcQ+slxJ+zdfTm+IzYk=\");\n_c = ScoreRight;\nexport default ScoreRight;\nvar _c;\n$RefreshReg$(_c, \"ScoreRight\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ScoreRight","_s","config","setConfig","name","score","overs","logoUrl","fetchConfig","controller","AbortController","timeoutId","setTimeout","abort","API_URL","process","env","REACT_APP_API_URL","response","fetch","signal","headers","NODE_ENV","rejectUnauthorized","clearTimeout","ok","Error","status","data","json","prevConfig","error","console","log","handleWebSocketMessage","event","_data$teams","JSON","parse","teams","team2","logo","WS_URL","REACT_APP_WS_URL","ws","WebSocket","addEventListener","interval","setInterval","clearInterval","removeEventListener","close","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onError","e","target","style","opacity","_c","$RefreshReg$"],"sources":["C:/Users/Cric Blast Radio/Desktop/To work on/New folder/Crex Scorecard More Data/frontend/src/components/cricket/components/ScoreRight.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst ScoreRight = () => {\n  const [config, setConfig] = useState({\n    name: \"\",\n    score: \"\",\n    overs: \"\",\n    logoUrl: \"\"\n  });\n\n  useEffect(() => {\n    const fetchConfig = async () => {\n      try {\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 5000);\n\n        const API_URL = process.env.REACT_APP_API_URL || 'https://localhost:5000';\n        const response = await fetch(`${API_URL}/get-right-team`, {\n          signal: controller.signal,\n          headers: {\n            'Accept': 'application/json'\n          },\n          ...(process.env.NODE_ENV === 'development' && {\n            rejectUnauthorized: false\n          })\n        });\n\n        clearTimeout(timeoutId);\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        setConfig(prevConfig => ({\n          ...prevConfig,\n          score: data.score || prevConfig.score,\n          overs: data.overs || prevConfig.overs\n        }));\n      } catch (error) {\n        if (error.name === 'AbortError') {\n          console.log('Request timed out');\n        } else {\n          console.error('Error fetching config:', error);\n        }\n      }\n    };\n\n    // Listen for WebSocket messages\n    const handleWebSocketMessage = (event) => {\n      try {\n        if (event.data) {\n          const data = JSON.parse(event.data);\n          if (data?.teams?.team2) {\n            const team2 = data.teams.team2;\n            setConfig(prevConfig => ({\n              name: team2.name,\n              score: prevConfig.score,\n              overs: prevConfig.overs,\n              logoUrl: team2.logo\n            }));\n          }\n        }\n      } catch (error) {\n        console.error('Error parsing WebSocket data:', error);\n      }\n    };\n\n    // Connect to WebSocket\n    const WS_URL = process.env.REACT_APP_WS_URL || 'wss://localhost:5000';\n    const ws = new WebSocket(WS_URL);\n    ws.addEventListener('message', handleWebSocketMessage);\n\n    fetchConfig();\n    const interval = setInterval(fetchConfig, 1000);\n\n    // Cleanup\n    return () => {\n      clearInterval(interval);\n      ws.removeEventListener('message', handleWebSocketMessage);\n      ws.close();\n    };\n  }, []);\n\n  if (!config.name && !config.score) return null;\n\n  return (\n    <div className=\"flex items-center justify-end gap-8 relative -top-[2px]\">\n      <div className=\"flex items-center gap-6 pr-6 relative bottom-[11px]\">\n        {config.score && (\n          <span className=\"text-8xl font-bold text-[#e5e5e5] leading-none \n            drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)] score-pro\">\n            {config.score}\n          </span>\n        )}\n        <div className=\"flex flex-col items-end justify-center gap-1\">\n          {config.name && (\n            <span className=\"text-5xl font-bold text-[#e5e5e5] leading-none \n              drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)] whitespace-nowrap\">\n              {config.name}\n            </span>\n          )}\n          {config.overs && (\n            <span className=\"text-2xl text-blue-300/80 leading-tight\n              drop-shadow-[0_0_4px_rgba(147,197,253,0.3)]\">\n              ({config.overs})\n            </span>\n          )}\n        </div>\n        {config.logoUrl && (\n          <div className=\"w-28 h-28 relative\">\n            <img \n              src={config.logoUrl}\n              alt={config.name}\n              className=\"w-full h-full object-contain p-2\n                filter drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]\n                transition-all duration-300 hover:scale-110\n                hover:drop-shadow-[0_0_12px_rgba(255,255,255,0.5)]\"\n              onError={(e) => {\n                e.target.style.opacity = '0.5';\n                e.target.src = ''; // Clear source on error\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ScoreRight; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}