{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ScoreRight=()=>{const[config,setConfig]=useState({name:\"\",score:\"\",overs:\"\",logoUrl:\"\"});useEffect(()=>{const fetchConfig=async()=>{try{const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),5000);const API_URL=process.env.REACT_APP_API_URL||'https://localhost:5000';const response=await fetch(`${API_URL}/get-right-team`,{signal:controller.signal,headers:{'Accept':'application/json'},...(process.env.NODE_ENV==='development'&&{rejectUnauthorized:false})});clearTimeout(timeoutId);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();setConfig(prevConfig=>({...prevConfig,score:data.score||prevConfig.score,overs:data.overs||prevConfig.overs}));}catch(error){if(error.name==='AbortError'){console.log('Request timed out');}else{console.error('Error fetching config:',error);}}};// Listen for WebSocket messages\nconst handleWebSocketMessage=event=>{try{if(event.data){var _data$teams;const data=JSON.parse(event.data);if(data!==null&&data!==void 0&&(_data$teams=data.teams)!==null&&_data$teams!==void 0&&_data$teams.team2){const team2=data.teams.team2;setConfig(prevConfig=>({name:team2.name,score:prevConfig.score,overs:prevConfig.overs,logoUrl:team2.logo}));}}}catch(error){console.error('Error parsing WebSocket data:',error);}};// Connect to WebSocket\nconst WS_URL=process.env.REACT_APP_WS_URL||'wss://localhost:5000';const ws=new WebSocket(WS_URL);ws.addEventListener('message',handleWebSocketMessage);fetchConfig();const interval=setInterval(fetchConfig,1000);// Cleanup\nreturn()=>{clearInterval(interval);ws.removeEventListener('message',handleWebSocketMessage);ws.close();};},[]);if(!config.name&&!config.score)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end gap-8 relative -top-[2px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-6 pr-6 relative bottom-[11px]\",children:[config.score&&/*#__PURE__*/_jsx(\"span\",{className:\"text-8xl font-bold tracking-tight leading-none relative bottom-2 text-[#e5e5e5] leading-none drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)]\",children:config.score}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end justify-center gap-1\",children:[config.name&&/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl font-bold text-white leading-none drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]\",children:config.name}),config.overs&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl text-blue-300/80 leading-tight drop-shadow-[0_0_4px_rgba(147,197,253,0.3)]\",children:[\"(\",config.overs,\")\"]})]}),config.logoUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"w-28 h-28 relative\",children:/*#__PURE__*/_jsx(\"img\",{src:config.logoUrl,alt:config.name,className:\"w-full h-full object-contain p-2 filter drop-shadow-[0_0_8px_rgba(255,255,255,0.3)] transition-all duration-300 hover:scale-110 hover:drop-shadow-[0_0_12px_rgba(255,255,255,0.5)]\",onError:e=>{e.target.style.opacity='0.5';e.target.src='';// Clear source on error\n}})})]})});};export default ScoreRight;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ScoreRight","config","setConfig","name","score","overs","logoUrl","fetchConfig","controller","AbortController","timeoutId","setTimeout","abort","API_URL","process","env","REACT_APP_API_URL","response","fetch","signal","headers","NODE_ENV","rejectUnauthorized","clearTimeout","ok","Error","status","data","json","prevConfig","error","console","log","handleWebSocketMessage","event","_data$teams","JSON","parse","teams","team2","logo","WS_URL","REACT_APP_WS_URL","ws","WebSocket","addEventListener","interval","setInterval","clearInterval","removeEventListener","close","className","children","src","alt","onError","e","target","style","opacity"],"sources":["C:/Users/Cric Blast Radio/Desktop/To work on/New folder/Crex Scorecard More Data/frontend/src/components/cricket/components/ScoreRight.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst ScoreRight = () => {\n  const [config, setConfig] = useState({\n    name: \"\",\n    score: \"\",\n    overs: \"\",\n    logoUrl: \"\"\n  });\n\n  useEffect(() => {\n    const fetchConfig = async () => {\n      try {\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 5000);\n\n        const API_URL = process.env.REACT_APP_API_URL || 'https://localhost:5000';\n        const response = await fetch(`${API_URL}/get-right-team`, {\n          signal: controller.signal,\n          headers: {\n            'Accept': 'application/json'\n          },\n          ...(process.env.NODE_ENV === 'development' && {\n            rejectUnauthorized: false\n          })\n        });\n\n        clearTimeout(timeoutId);\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        setConfig(prevConfig => ({\n          ...prevConfig,\n          score: data.score || prevConfig.score,\n          overs: data.overs || prevConfig.overs\n        }));\n      } catch (error) {\n        if (error.name === 'AbortError') {\n          console.log('Request timed out');\n        } else {\n          console.error('Error fetching config:', error);\n        }\n      }\n    };\n\n    // Listen for WebSocket messages\n    const handleWebSocketMessage = (event) => {\n      try {\n        if (event.data) {\n          const data = JSON.parse(event.data);\n          if (data?.teams?.team2) {\n            const team2 = data.teams.team2;\n            setConfig(prevConfig => ({\n              name: team2.name,\n              score: prevConfig.score,\n              overs: prevConfig.overs,\n              logoUrl: team2.logo\n            }));\n          }\n        }\n      } catch (error) {\n        console.error('Error parsing WebSocket data:', error);\n      }\n    };\n\n    // Connect to WebSocket\n    const WS_URL = process.env.REACT_APP_WS_URL || 'wss://localhost:5000';\n    const ws = new WebSocket(WS_URL);\n    ws.addEventListener('message', handleWebSocketMessage);\n\n    fetchConfig();\n    const interval = setInterval(fetchConfig, 1000);\n\n    // Cleanup\n    return () => {\n      clearInterval(interval);\n      ws.removeEventListener('message', handleWebSocketMessage);\n      ws.close();\n    };\n  }, []);\n\n  if (!config.name && !config.score) return null;\n\n  return (\n    <div className=\"flex items-center justify-end gap-8 relative -top-[2px]\">\n      <div className=\"flex items-center gap-6 pr-6 relative bottom-[11px]\">\n        {config.score && (\n          <span className=\"text-8xl font-bold tracking-tight leading-none relative bottom-2\n            text-[#e5e5e5] leading-none\n            drop-shadow-[0_2px_3px_rgba(0,0,0,0.3)]\">\n            {config.score}\n          </span>\n        )}\n        <div className=\"flex flex-col items-end justify-center gap-1\">\n          {config.name && (\n            <span className=\"text-5xl font-bold text-white leading-none\n              drop-shadow-[0_0_8px_rgba(255,255,255,0.2)]\">\n              {config.name}\n            </span>\n          )}\n          {config.overs && (\n            <span className=\"text-2xl text-blue-300/80 leading-tight\n              drop-shadow-[0_0_4px_rgba(147,197,253,0.3)]\">\n              ({config.overs})\n            </span>\n          )}\n        </div>\n        {config.logoUrl && (\n          <div className=\"w-28 h-28 relative\">\n            <img \n              src={config.logoUrl}\n              alt={config.name}\n              className=\"w-full h-full object-contain p-2\n                filter drop-shadow-[0_0_8px_rgba(255,255,255,0.3)]\n                transition-all duration-300 hover:scale-110\n                hover:drop-shadow-[0_0_12px_rgba(255,255,255,0.5)]\"\n              onError={(e) => {\n                e.target.style.opacity = '0.5';\n                e.target.src = ''; // Clear source on error\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ScoreRight; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}